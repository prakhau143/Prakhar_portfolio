!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1b3365ae-c326-4337-91ea-5a63577f141b",e._sentryDebugIdIdentifier="sentry-dbid-1b3365ae-c326-4337-91ea-5a63577f141b")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4182],{93682:function(e,t,a){a.d(t,{U:function(){return r},w:function(){return o}});let o=200,r=200},94182:function(e,t,a){a.d(t,{l:function(){return eF},Y:function(){return e3}});var o=a(97458),r=a(57291),n=a(98821),i=a.n(n),l=a(58058),s=a.n(l),c=a(52983),u=a(30948),d=a(64237),m=a(36244),_=a(41581),p=a(3223),h=a(16614),f=a(31760),w=a(70870),g=a(77475),x=a(20339),b=a(50987),v=a(65122),y=a(63081),j=a(33247),k=a(61821),N=a(52294),C=a(41776),R=a(4784),T=a(770),I=a(9249),z=a(30061),D=a(10893),E=a(59470);let P=()=>{let{t:e}=(0,D.$G)("common");return(0,o.jsxs)("span",{className:E.q,children:[(0,o.jsx)(I.T,{children:e("disneyResource")}),(0,o.jsx)(T.J,{as:z.Z,size:"3xs",className:"text-white"})]})},A=e=>{var t,a,r,n;let{resource:i,isDisneyResource:l=!1}=e,s=(0,v.e)(),{contentGroup:c}=(0,k.hv)(i),u=(0,j.R)(),{premium:d,isAIGenerated:m,authorName:_,type:p}=i;if(!d&&!m&&!l)return;let h=d&&s,f=i.isEditableInMockup?"mockups":null,w=i.isEditableInWepik?"templates":null,g=null!==(n=null!=f?f:w)&&void 0!==n?n:"premium_regular",x=u({type:p,authorName:_,isPremium:!0,isAIGenerated:m,eventName:"download__thumbnail_crown"});return x.append("origin","".concat(y.Ej,"_").concat(g)),(0,o.jsxs)(o.Fragment,{children:[h&&(0,o.jsx)("span",{className:E.q,children:(0,o.jsx)(R.s,{})}),d&&!h&&(0,o.jsx)("span",{className:E.q,children:(0,o.jsx)(C.w,{resource:{id:i.id,name:i.name,mediaUrl:null===(t=i.preview)||void 0===t?void 0:t.url,mediaHeight:null===(a=i.preview)||void 0===a?void 0:a.height,mediaWidth:null===(r=i.preview)||void 0===r?void 0:r.width,resourceType:"regular"},urlParams:x,category:c})}),m&&(0,o.jsx)(N.N,{}),l&&(0,o.jsx)(P,{})]})},O=(e,t)=>{let{width:a}=(0,w.n)(e),{width:o}=(0,w.n)(null!=t?t:{current:null});return a?a-(null!=o?o:0)-16-15:0},S=(e,t)=>{let[a,o]=(0,c.useState)(3);return(0,c.useEffect)(()=>{if(!(null==t?void 0:t.current))return;let{scrollWidth:a}=t.current,r=e-25;if(r<=0){o(1);return}if(a>r){o(e=>Math.max(e-1,1));return}a+80<=r&&o(e=>Math.min(e+1,3))},[e,t]),a};var U=a(3999),L=a(51780),G=a(95797),H=a(85e3),Z=a(30143);let M=e=>{let[t,a]=(0,c.useState)("");return(0,c.useEffect)(()=>{{let t=new URLSearchParams(window.location.hash.substring(1)).get(e);null!==t&&a(t)}},[e]),t},W=e=>{var t;let{resourceId:a,resourceUrl:o,previewUrl:r,isModal:n,position:i,fromView:l,action:s}=e,c=(0,L.useRouter)(),u=null!==(t=(0,H.Jn)("term"))&&void 0!==t?t:"",d=M("from_element"),m=(0,Z.fb)(a,o,{fromView:l,position:i,fromElement:d,query:u}),_=$({previewUrl:r,resourceId:a,isModal:n,action:s});return n?{href:{pathname:c.pathname,query:c.query},as:m,shallow:!0,scroll:!1,onClick:_}:{href:m,onClick:_}},$=e=>{let{previewUrl:t,resourceId:a,isModal:o,action:r}=e,n=(0,U.u)({previewUrl:t});return(0,G.Z)({itemId:a,isModal:o,previewUrlParams:n.includes("?")?new URLSearchParams(n.split("?")[1]).toString():"",action:r})};var J=a(45388),K=a(23113),q=a(34854),B=a(22188),F=a(87591),V=a(50829),Q=a(17722),Y=a(30569),X=a(35103);let ee=e=>{let{onDownload:t,isDownloading:a,premium:r,className:n,iconSize:i,creditCost:l}=e,{t:s}=(0,D.$G)(["detailCommon","common"]),c=(0,K.a)("lg"),u=(0,q.nD)(),d=(0,V.C)(),m=(0,X.O)(r),_=(0,o.jsx)(Y.K,{iconName:"download",onClick:t,dataCy:"download-thumbnail",disabled:!!m||a,loading:a,className:n,iconSize:i,children:(0,o.jsx)(I.T,{children:s("detailCommon:download")})});return c?m?(0,o.jsx)(Q.B,{blockStatus:m,container:u.current,children:_}):(0,o.jsx)(B.u,{disableHoverableContent:!0,content:(0,o.jsxs)("span",{className:"flex items-center gap-2",children:[s("detailCommon:download"),d&&(0,o.jsx)(F.L,{creditCost:l,className:"bg-surface-foreground-2"})]}),contentProps:{side:"bottom",size:"sm"},showArrow:!1,children:(0,o.jsx)("div",{children:_})}):_};var et=a(85229),ea=a(46700),eo=a(65724),er=a(35576),en=a(24278),ei=a(75045);let el=(e,t)=>{let{id:a,name:o,author:r,type:n,premium:i,isAIGenerated:l,url:s,preview:u,isEditableInMockup:m,isEditableInWepik:_}=e,p=(0,j.R)(),{isUserWinback:h,showWinbackModal:f}=(0,et.l)(),w=p({authorName:r.name,isPremium:i,isAIGenerated:l,type:n,subtype:(0,d.y)({isEditableInWepik:_,isEditableInMockup:m}),eventName:"download__thumbnail"}),{isDownloading:g,handleDownload:x}=(0,ei.i)({resource:{id:a,name:o,author:r,premium:i,regularType:n,isAIGenerated:l,url:s,preview:u,type:n},location:"resource_thumbnail",checkoutQueryParams:w,showAttributionModal:!1,searchExpression:t}),y=(0,ea.V)(),k=(0,er.mS)(),N=(0,v.e)(),{contentGroup:C}=(0,en.hv)({id:a,type:n,isAIGenerated:l,premium:i,isEditableInMockup:m,isEditableInWepik:_}),R=(0,eo.W)(a,C,"resource_thumbnail"),{showAttribution:T}=(0,b.J)(),I=(0,c.useCallback)(()=>{k({resourceId:a,isResourcePremium:i,resourceType:n,downloadType:"download"})},[k,a,i,n]);return{isDownloading:g,handleDownloadFromThumbnail:(0,c.useCallback)(async()=>{if(h){f();return}if(!N&&i){R({origin:"resource_thumbnail_premium",resourceData:{name:o,mediaUrl:u.url,mediaWidth:u.width,mediaHeight:u.height,resourceType:"regular"},checkoutQueryParams:w,onButtonClick:I});return}let e=await x();e&&(y(e.url,e.filename),T())},[h,N,i,x,f,R,o,u.url,u.width,u.height,w,I,y,T])}};var es=a(67651),ec=a(95733),eu=a(38741),ed=a(18666),em=a(45299);let e_=e=>{let{item:t,isCollectionItem:a,isCuratedCollection:r,openModal:n}=e,{id:i,name:l,author:s,type:c,premium:u,isAIGenerated:d,url:_,preview:p,isEditableInMockup:h,isEditableInWepik:f,creditCost:w}=t,{url:g,height:x,width:b}=p,v=!(0,es.h)(s.id),{isDownloading:y,handleDownloadFromThumbnail:j}=el({id:i,name:l,author:s,type:null!=c?c:"photo",premium:u,isAIGenerated:d,url:_,preview:{url:g,height:x,width:b},isEditableInMockup:h,isEditableInWepik:f},(0,H.pt)()),k=(0,ec.E)(),N=(0,m.G)(),C=!k||k&&i!==N;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[C&&(0,o.jsx)(ed.B,{id:i,name:l,preview:p,inThumbnail:!0,showLabel:!1,type:c,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),(!a||r)&&(0,o.jsx)(eu.D,{type:t.type,id:t.id,location:"thumbnail",renderTrigger:e=>{let{onClick:t,ref:a}=e;return(0,o.jsx)(em.P,{onClick:t,ref:a})}}),a&&!r&&(0,o.jsx)(J.Q,{openModal:n,resourceId:t.id,resourceType:t.type}),v&&(0,o.jsx)(ee,{onDownload:j,isDownloading:y,premium:u,creditCost:w})]})};var ep=a(90715),eh=a(86101),ef=a(43192),ew=a(27793),eg=a(91394),ex=a(25983);let eb=(e,t,a)=>{let o=(0,en.m6)(t),r=(0,ex.L3)(),{loginUrl:n,setLoginCookies:i}=(0,ew.J)(),l=(0,eg.d)(),s=(0,er.mS)(),c=()=>o?a:o?l||t?a:(i(),n):"".concat(r("/pricing"),"/").concat(e,"?origin=freepik_web");return()=>{if(!o){s({resourceId:e,isResourcePremium:t,resourceType:"template"}),window.location.href=c();return}window.location.href=c()}},ev=e=>{let{id:t,premium:a,urlEditor:r}=e,{t:n}=(0,D.$G)("common"),i=(0,K.a)("lg"),l=eb(t,a,r),s=(0,o.jsx)(ef.T,{label:n("editOnline"),dataCy:"edit-online-thumbnail",onClick:l});return i?(0,o.jsx)(eh.u,{side:"left",trigger:s,triggerAsChild:!0,hideOnLeaveHover:!0,children:n("editOnline")}):s};var ey=a(39230),ej=a(2200),ek=a(95467),eN=a(80751);let eC=(e,t)=>{let a=(0,v.e)(),o=(0,eN.H)(),r=!t||a;return(0,c.useMemo)(()=>o({tool:e,canUserDownloadResource:r}),[e,r,o])};var eR=a(58984);let eT=e=>{let{tool:t,resource:a}=e;return(0,eR.I)({tool:t,location:"thumbnail",resource:a})};var eI=a(82060);let ez=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),r=eT({tool:{name:"changeCamera"},resource:t}),{blockStatus:n}=eC("changeCamera",t.premium),i=(0,ej.n)(),l=!(0,v.e)()&&t.premium;return(0,o.jsx)(Q.B,{blockStatus:n,container:i.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>r(),disabled:!!n,"data-cy":"thumbnail-menu-change-camera",children:[(0,o.jsx)(ek.ZP,{name:"camera",size:"xs"}),(0,o.jsx)("span",{children:a("changeCamera.name")}),l&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eD=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),r=eT({tool:{name:"imageEditor"},resource:t}),{blockStatus:n}=eC("imageEditor",t.premium),i=(0,ej.n)(),l=!(0,v.e)()&&t.premium;return(0,o.jsx)(Q.B,{blockStatus:n,container:i.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>r(),disabled:!!n,"data-cy":"thumbnail-menu-edit-with-ai",children:[(0,o.jsx)(ek.ZP,{name:"image-editor",size:"xs"}),(0,o.jsx)("span",{children:a("imageEditor.nameC")}),l&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eE=a(41937),eP=a(90312),eA=a(9382);let eO=e=>{let{resourceId:t,resourceUrl:a,previewUrl:r,position:n,fromView:i,isModal:l,isPremium:s,isCollectionItem:c=!1}=e,{t:u}=(0,D.$G)("editTools"),d=(0,eE.I)(),{setLoginCookies:m,signUpUrl:_}=(0,eP.e)(),p=(0,X.O)(s),h=(0,q.nD)(),f=!(0,v.e)()&&s,w=(0,L.useRouter)(),g=W({resourceId:t,resourceUrl:a,previewUrl:r,isModal:l,position:n,fromView:i,action:"remove-background"});return(0,o.jsx)(Q.B,{blockStatus:p,container:h.current,children:(0,o.jsxs)("button",{type:"button",onClick:e=>{if(d){e.preventDefault(),m(),window.location.href=_;return}if(p){e.preventDefault();return}if(c){w.push("".concat(a,"?action=remove-background"));return}g.onClick(e)},className:eI.tw,"data-cy":"menu-remove-background",disabled:!!p,children:[(0,o.jsx)(T.J,{as:eA.Z,size:"sm"}),(0,o.jsx)("span",{children:u("removeBackground.nameE")}),f&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eS=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),r=eT({tool:{name:"styleReference"},resource:t}),{blockStatus:n}=eC("styleReference",t.premium),i=(0,ej.n)(),l=!(0,v.e)()&&t.premium;return(0,o.jsx)(Q.B,{blockStatus:n,container:i.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>r(),disabled:!!n,"data-cy":"thumbnail-menu-style-reference",children:[(0,o.jsx)(ek.ZP,{name:"double-star",size:"xs"}),(0,o.jsx)("span",{children:a("styleReference.name")}),l&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eU=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),r=eT({tool:{name:"useAsReference"},resource:t}),{blockStatus:n}=eC("useAsReference",t.premium),i=(0,ej.n)(),l=!(0,v.e)()&&t.premium;return(0,o.jsx)(Q.B,{blockStatus:n,container:i.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>r(),disabled:!!n,"data-cy":"thumbnail-menu-use-as-reference",children:[(0,o.jsx)(ek.ZP,{name:"search-by-image",size:"sm"}),(0,o.jsx)("span",{children:a("useAsReference")}),l&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})},eL=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),r=eT({tool:{name:"variations"},resource:t}),{blockStatus:n}=eC("variations",t.premium),i=(0,ej.n)(),l=!(0,v.e)()&&t.premium;return(0,o.jsx)(Q.B,{blockStatus:n,container:i.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>r(),disabled:!!n,"data-cy":"thumbnail-menu-variations",children:[(0,o.jsx)(ek.ZP,{name:"fps",size:"xs"}),(0,o.jsx)("span",{children:a("variations.name")}),l&&(0,o.jsx)(ek.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eG=a(7616),eH=a(7526),eZ=a(31861);let eM=(e,t)=>["psd","vector"].includes(e)&&t,eW=()=>{let[e]=(0,eG.KO)(eZ.GD);return(0,c.useCallback)((t,a)=>{let o=""===e?"".concat(eH.KK).concat(t):"".concat(eH.KK).concat(t,"?searchTerm=").concat(e),r="".concat(eH.Iq).concat(t,"&provider=fp");return a?o:r},[e])},e$=e=>{let{resource:t}=e,{t:a}=(0,D.$G)("editTools"),r=(0,ej.n)(),n=eT({tool:{name:"useAsReference"},resource:t}),{blockStatus:i}=eC("useAsReference",t.premium);return(0,o.jsx)(Q.B,{blockStatus:i,container:r.current,children:(0,o.jsx)(ef.T,{onClick:()=>n(),disabled:!!i,dataCy:"thumbnail-use-as-reference",label:a("useAsReference"),iconLeftName:"search-by-image"})})},eJ=(0,c.forwardRef)((e,t)=>{let{thumbnailRef:a,item:r,position:n,isModal:i,fromView:l,isCollectionItem:s=!1}=e,{id:c,name:u,author:d,premium:m,isAIGenerated:_,type:p,url:h,preview:f,isEditableInMockup:w,isEditableInWepik:g}=r,x={id:c,name:u,author:d,premium:m,isAIGenerated:_,preview:f,type:p,url:h},b=g||w,v=eW(),y=(0,ep.n)({type:p,isEditableInMockup:w,isEditableInWepik:g,authorId:d.id}),j=eM(p,b),k=(0,ec.E)();return(0,o.jsxs)("div",{ref:t,className:"flex flex-row gap-1",children:[k&&(0,o.jsx)(e$,{resource:{id:c,name:u,type:p,premium:m,isAIGenerated:_,preview:f,url:h,author:d}}),y&&!j&&(0,o.jsxs)(ey.$,{thumbnailRef:a,vertical:"regular",children:[(0,o.jsx)(eO,{resourceId:c,resourceUrl:h,position:n,isModal:i,fromView:l,previewUrl:f.url,isPremium:m,isCollectionItem:s}),(0,o.jsx)(eD,{resource:x}),(0,o.jsx)(eU,{resource:x}),(0,o.jsx)(eS,{resource:x}),(0,o.jsx)(eL,{resource:x}),(0,o.jsx)(ez,{resource:x})]}),j&&!k&&(0,o.jsx)(ev,{premium:m,id:c,urlEditor:v(c,g)})]})}),eK=e=>{let{type:t,name:a,isPremium:o,fromView:r}=e,{t:n}=(0,D.$G)("common");if(!r||"keyword"!==r)return a;let i=a.toLowerCase(),l=n("regularTypeTitleQuantities.".concat(t,"_one"));return o?"".concat(l," ").concat(i):"".concat(n("seoRuleAlt",{type:l})," ").concat(i)},eq=(0,r.j)("block rounded object-cover object-center",{variants:{resizeIn:{width:"size-full",height:"h-full w-auto"}}}),eB=(0,c.forwardRef)((e,t)=>{let{item:a,position:n,fromView:l,isModal:w=!1,dataCy:x,priority:v,resizeParameter:y="width",isCuratedCollection:j,openModal:k,isCollectionItem:N=!1}=e,{preview:C,name:R,premium:T,type:I,author:z,id:D,isAIGenerated:E,url:P,topSearchExpressions:L,isEditableInMockup:G,isEditableInWepik:H}=a,Z="keyword"===l,[M,$]=(0,c.useState)(!1),{url:J,width:K,height:q}=C,B=(0,c.useRef)(null),F=(0,c.useRef)(null),V=S(O(t,B),F),{attributionEnabled:Q}=(0,b.J)(),Y=z.id===u.c,X=W({resourceId:a.id,resourceUrl:a.url,previewUrl:J,isModal:w,position:n,fromView:l}),ee=(0,U.u)({previewUrl:J}),et=(0,d.y)({isEditableInMockup:G,isEditableInWepik:H}),ea=eK({type:I,name:R,isPremium:T,fromView:l}),eo=(0,p.z)({id:a.id,type:a.type,premium:a.premium,position:null!=n?n:0}),er=(0,c.useCallback)(()=>{"function"==typeof eo&&eo(),$(!0)},[eo]),en=(0,_.t)(D,I),ei=(0,m.G)();return(0,o.jsx)(h.u,{ref:t,dataCy:x,dataAuthor:z.id.toString(),primaryActions:(0,o.jsx)(e_,{item:a,isCuratedCollection:j,openModal:k,isCollectionItem:N}),secondaryActions:(0,o.jsx)(eJ,{thumbnailRef:t,ref:B,item:a,position:n,isModal:w,fromView:l,isCollectionItem:N}),fixedSecondaryActions:D===ei&&(0,o.jsx)(e$,{resource:{id:D,name:R,type:I,premium:T,isAIGenerated:E,preview:C,url:P,author:z}}),information:M&&(0,o.jsx)(A,{resource:{...a,authorName:a.author.name},isDisneyResource:Y}),searchExpressions:Z&&(0,o.jsx)(f.k,{items:L,style:"new",maxTags:V,tagsContainerRef:F}),attribution:Q&&(0,o.jsx)(g.i,{authorId:z.id,authorName:z.name,resourceUrl:P,resourceId:D,resourceName:R,mediaUrl:J,mediaWidth:K,mediaHeight:q,isAIGenerated:E,isPremium:T,resourceType:I,subtype:et}),children:(0,o.jsxs)(s(),{...X,className:(0,r.cx)("relative z-0 block h-full overflow-hidden rounded-xl","width"===y?"":"h-full"),prefetch:!1,children:[(0,o.jsx)(i(),{src:ee,alt:ea,width:K,height:q,className:(0,r.cx)(eq({resizeIn:y})),priority:v,onLoad:er,suppressHydrationWarning:!0,onError:en}),(0,o.jsx)("div",{className:"absolute inset-0 z-0","aria-hidden":"true"})]})})}),eF=(0,c.forwardRef)((e,t)=>{let{height:a}=(0,w.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=a?a:0,children:(0,o.jsx)(eB,{...e,ref:t})})});var eV=a(33523),eQ=a(72570),eY=a(93682);let eX=e=>{let{item:t,isDownloadEnabled:a}=e,{id:r,name:n,author:i,type:l,premium:s,isAIGenerated:c,url:u,preview:d,isEditableInMockup:_,isEditableInWepik:p,creditCost:h}=t,{url:f,height:w,width:g}=d,{isDownloading:x,handleDownloadFromThumbnail:b}=el({id:r,name:n,author:i,type:null!=l?l:"photo",premium:s,isAIGenerated:c,url:u,preview:{url:f,height:w,width:g},isEditableInMockup:_,isEditableInWepik:p},(0,H.pt)()),v=(0,ec.E)(),y=(0,m.G)(),j=!v||v&&r!==y;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[j&&(0,o.jsx)(ed.B,{id:r,name:n,preview:d,inThumbnail:!0,showLabel:!1,type:l,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),a&&(0,o.jsx)(ee,{onDownload:b,isDownloading:x,premium:s,creditCost:h})]})},e0=e=>{let{item:t,isDownloadEnabled:a}=e,{id:r,premium:n,isEditableInMockup:i,isEditableInWepik:l,type:s}=t,c=eW(),u=eM(s,l||i);return!a&&u?(0,o.jsx)("div",{className:"flex flex-row gap-1",children:(0,o.jsx)(ev,{premium:n,id:r,urlEditor:c(r,l)})}):null},e1=(0,c.forwardRef)((e,t)=>{var a,r;let{item:n,categoryGAEvent:l,fromElement:m}=e,{id:_,type:p,preview:f,url:w,author:x,name:v,isAIGenerated:y,premium:j,isEditableInMockup:N,isEditableInWepik:C}=n,R="".concat(w).concat(m?"#from_element=".concat(m):""),T=null!==(a=null==f?void 0:f.url)&&void 0!==a?a:"",I=x.id===u.c,z=!(0,es.h)(x.id),{width:D,height:E}=null!=f?f:{width:eY.U,height:eY.w,url:""},P=D/E,O=eY.w*P,[S,U]=(0,c.useState)(!1),{isLoading:G,loaded:H}=(0,eQ._)(T),Z=(0,er.O5)(),M=(0,L.useRouter)(),W=(0,k.Zh)({itemId:_,isModal:!0}),{attributionEnabled:$}=(0,b.J)(),J=(0,d.y)({isEditableInMockup:N,isEditableInWepik:C});return(0,o.jsx)(h.u,{ref:t,dataCy:"related-thumbnail",dataAuthor:x.id.toString(),primaryActions:(0,o.jsx)(eX,{item:n,isDownloadEnabled:z}),secondaryActions:(0,o.jsx)(e0,{item:n,isDownloadEnabled:z}),information:S&&(0,o.jsx)(A,{resource:{...n,authorName:n.author.name},isDisneyResource:I}),attribution:$&&(0,o.jsx)(g.i,{authorId:x.id,authorName:x.name,resourceUrl:w,resourceId:_,resourceName:v,mediaUrl:null!==(r=null==f?void 0:f.url)&&void 0!==r?r:"",mediaWidth:D,mediaHeight:E,isAIGenerated:y,isPremium:j,resourceType:p,subtype:J}),children:(0,o.jsxs)(s(),{href:{pathname:M.pathname,query:M.query},as:R,shallow:!0,scroll:!1,className:'relative block h-[200px] overflow-hidden rounded-xl before:absolute before:inset-0 before:opacity-0 before:content-[""] hover:before:opacity-20',prefetch:!1,onClick:e=>{l&&Z(_,l,p),W(e)},children:[G&&f&&(0,o.jsx)(eV.O.Rect,{style:{width:O,height:eY.w}}),(0,o.jsx)(i(),{className:e5({show:!G}),src:T,alt:v,onLoad:()=>{H(),U(!0)},width:O,height:eY.w,quality:90,loading:"lazy"}),(0,o.jsx)("div",{className:"absolute inset-0","aria-hidden":"true"})]})})}),e3=e=>{let t=(0,c.useRef)(null),{height:a}=(0,w.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=a?a:0,children:(0,o.jsx)(e1,{...e,ref:t})})},e5=(0,r.j)("h-full object-cover",{variants:{show:{false:"absolute opacity-0"}}})},21255:function(e,t,a){a.d(t,{k:function(){return s}});var o=a(68147),r=a(26219),n=a(83380),i=a(5704),l=a(7009);let s=e=>{let t=(0,n.Z)(),a=(0,i.Jn)("term"),s=(0,o.I)()||0,c=(0,l.J)();return(o,n)=>{let i="term-related&language=".concat(t,"&ref=").concat(a,"&rel=").concat(n,"&ori=").concat(e,"&pos=").concat(o+1,"&uid=").concat(s).concat(c);(0,r.O)(encodeURI(i.toLowerCase()))}}},31760:function(e,t,a){a.d(t,{k:function(){return u}});var o=a(97458),r=a(25983),n=a(52983),i=a(86436),l=a(21255),s=a(5704);let c={psd:"/psd",vector:"/vectors",photo:"/photos",font:"/fonts"},u=e=>{var t;let{items:a,maxTags:u=3,style:d="old",tagsContainerRef:m}=e,_=c[null!==(t=(0,s.Jn)("type"))&&void 0!==t?t:""]||"/free-photos-vectors",p=(0,r.L3)()(_),h=(0,l.k)("tag"),f=(0,n.useMemo)(()=>a?a.slice(0,u).map(e=>{var t;let a="".concat(p,"/").concat(e.slug),o="".concat(_,"/").concat(e.slug);return{name:e.name,href:null!==(t=e.url)&&void 0!==t?t:o,as:a}}):[],[a,u,p,_]);return!a||0===a.length||u<=0?null:(0,o.jsx)("div",{ref:m,children:(0,o.jsx)(i.L,{tags:f,theme:"old"===d?"dark":"transparent",onTagClick:(e,t)=>{h(e,t.name)},className:"relative mt-4 flex size-full flex-wrap gap-3"})})}},58984:function(e,t,a){a.d(t,{I:function(){return f}});var o=a(65122),r=a(69762),n=a(43186),i=a(52983),l=a(33961),s=a(64458);let c=(e,t)=>{let a=u(e,t),o=d(e);if(!a)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return{action:a,modifier:o}},u=(e,t)=>{var a;let o=null===(a=m[e.name])||void 0===a?void 0:a[t];if(!o)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return o},d=e=>{if("workflow"===e.name){let t=_[e.subOption];if(!t)throw Error("There are no download parameters for workflow with ".concat(e.subOption));return t}},m={retouch:{detail:"ai_tool_retouch",postDownload:"ai_tool_retouch_after_download"},expand:{detail:"ai_tool_expand",postDownload:"ai_tool_expand_after_download"},reimagine:{detail:"ai_tool_reimagine",postDownload:"ai_tool_reimagine_after_download"},adjust:{detail:"ai_tool_adjust",postDownload:"ai_tool_adjust_after_download",thumbnail:"ai_tool_adjust_thumbnail"},replacebg:{detail:"ai_tool_replacebg"},video:{detail:"ai_tool_video",postDownload:"ai_tool_video_after_download"},assistant:{detail:"ai_tool_assistant",thumbnail:"ai_tool_assistant_thumbnail"},generatePrompt:{detail:"ai_tool_generate_prompt"},styleReference:{detail:"ai_tool_generate_style_ref",postDownload:"ai_tool_generate_style_ref_after_download",thumbnail:"ai_tool_generate_style_ref_thumbnail"},workflow:{detail:"ai_tool_assistant"},imageEditor:{thumbnail:"ai_tool_all_thumbnail",detail:"ai_tool_all",postDownload:"ai_tool_all_after_download"},useAsReference:{detail:"ai_tool_generate_use_as_reference",thumbnail:"ai_tool_generate_image_ref",postDownload:"ai_tool_generate_image_ref_after_download"},changeCamera:{detail:"ai_tool_change_camera",thumbnail:"ai_tool_change_camera_thumbnail",postDownload:"ai_tool_change_camera_after_download"},variations:{detail:"ai_tool_variations",thumbnail:"ai_tool_variations_thumbnail",postDownload:"ai_tool_variations_after_download"},cinematicShot:{detail:"ai_tool_cinematic_shot"}},_={createSocialPost:"workflow_create_post",createPoster:"workflow_create_poster",mixImages:"workflow_mix_images",applyPromo:"workflow_apply_promo",createFlyer:"workflow_create_flyer",createLogoVariations:"workflow_create_logo_variations",localize:"workflow_localize",createLogo:"workflow_create_logo",applyColors:"workflow_apply_colors",replaceText:"workflow_replace_text",removeText:"workflow_remove_text",replaceElement:"workflow_replace_element",addElement:"workflow_add_element"};var p=a(75045);let h=e=>{let{tool:t,location:a,imageSrc:o,resource:r}=e,{id:u,name:d,author:m,premium:_,type:h,isAIGenerated:f,preview:w,url:g}=r,{action:x,modifier:b}=c(t,a),v=(0,s.M)({tool:t,resource:{type:h,subtype:h,authorName:m.name,isPremium:_,isAIGenerated:f}}),{handleDownload:y}=(0,p.i)({resource:{id:u,name:d,author:m,premium:_,regularType:h,isAIGenerated:f,url:g,preview:w,type:h},action:x,modifier:b,showAttributionModal:!1,skipDownloadTracker:!0,location:(0,l.d)({isResourcePremium:_,tool:t,location:a}),checkoutQueryParams:v}),j=(0,n.J)(),k=null!=o?o:w.url;return(0,i.useCallback)(async()=>{let e=await y(k);if(!(null==e?void 0:e.signedUrl))throw Error("Failed to download image");return j(),"".concat(e.signedUrl,"&w=2000&h=2000")},[k,y,j])},f=e=>{let{tool:t,location:a,imageSrc:n,extraParams:i,resource:l}=e,{id:s,premium:c,isAIGenerated:u,type:d,author:{name:m},name:_,preview:{url:p,width:f,height:w}}=l,g=(0,o.e)(),x=h({tool:t,location:a,imageSrc:n,resource:l});return(0,r.F)({tool:t,resource:{id:s,name:_,type:d,authorName:m,isPremium:c,isAIGenerated:u,groupedType:"regular",media:{url:p,width:f,height:w}},canDownloadResource:g||!c,imageSrc:n,getSignedResource:x,location:a,extraParams:i})}},15715:function(e,t,a){a.d(t,{H:function(){return r}});let o=e=>{let{resource:t,file:a,option:o,size:r,action:n,walletId:i,locale:l,modifier:s,searchExpression:c}=e,u=new URLSearchParams;return u.set("resource","".concat(t)),a&&o?(u.set("file",a),u.set("option","".concat(o))):r&&u.set("size","".concat(r)),n&&u.set("action",n),i&&u.set("walletId",i),u.set("locale",l),s&&u.set("modifier",s),c&&u.set("searchExpression",c),u.toString()},r=async e=>{let t=o(e),a=await fetch("/api/regular/download?".concat(t));return a.ok?{success:!0,data:await a.json()}:429===a.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===a.status||403===a.status||405===a.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===a.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},75045:function(e,t,a){a.d(t,{i:function(){return D}});var o=a(72234),r=a(15880),n=a(68147),i=a(85229),l=a(25983),s=a(59608),c=a(52983),u=a(9036),d=a(35576),m=a(7526);let _=(e,t)=>t||("photo"===e?"jpg":"zip");var p=a(24278);a(97458);let h=(0,c.createContext)(null),f=()=>(0,c.useContext)(h)||{shouldTrackingLog:!0};var w=a(15715),g=a(32509),x=a(72661),b=a(72118),v=a(1850),y=a(64979),j=a(56879);let k=v.z.enum(["download","copy","edit","prompt","preview","remove_background","remove_background_edit","ai_video",y.cm,y.PF,y.p3,y.Kq,y.wK,y.os,y.H$,y.C0,y.u4,y.OI,y.Iu,y.e5,"ai_tool_retouch","ai_tool_retouch_after_download","ai_tool_expand","ai_tool_expand_after_download","ai_tool_reimagine","ai_tool_reimagine_after_download","ai_tool_adjust","ai_tool_adjust_after_download","ai_tool_replacebg","ai_tool_video","ai_tool_video_after_download","ai_tool_assistant","ai_tool_generate_prompt","ai_tool_generate_style_ref","ai_tool_generate_style_ref_after_download","ai_tool_generate_style_ref_thumbnail","ai_tool_adjust_thumbnail","ai_tool_assistant_thumbnail","ai_tool_all_thumbnail","ai_tool_all","ai_tool_generate_image_ref","ai_tool_all_after_download","ai_tool_generate_image_ref_after_download","ai_tool_generate_use_as_reference","ai_tool_variations","ai_tool_variations_thumbnail","ai_tool_change_camera","ai_tool_change_camera_thumbnail","ai_tool_change_camera_after_download","ai_tool_variations_after_download","ai_tool_cinematic_shot"]),N=v.z.enum(["workflow_create_post","workflow_create_poster","workflow_mix_images","workflow_apply_promo","workflow_create_flyer","workflow_create_logo_variations","workflow_localize","workflow_create_logo","workflow_apply_colors","workflow_replace_text","workflow_remove_text","workflow_replace_element","workflow_add_element"]);v.z.object({resource:v.z.coerce.number(),file:j.ru.optional(),option:v.z.coerce.number().optional(),size:v.z.coerce.number().optional(),action:k.optional(),modifier:N.optional(),walletId:v.z.string().nullable().optional(),locale:v.z.string(),searchExpression:v.z.string().optional()}),v.z.object({data:v.z.object({filename:v.z.string(),url:v.z.string(),prompt:v.z.string().optional(),signed_url:v.z.string().optional()})}).transform(e=>{let{data:t}=e;return t}).transform(e=>{let{signed_url:t,...a}=e;return{...a,signedUrl:t}});let C=v.z.array(v.z.string()),R=new Date(new Date().getTime()+48e4),T=b.Z.withConverter({write:e=>e}),I=e=>{try{let t=T.get(e);if(!t)return[];return C.parse(JSON.parse(t))}catch(e){return[]}},z=()=>{let e=(0,n.I)(),t=(0,x.b)();return(0,c.useCallback)(a=>{if(!e)return;let o="".concat("ck_items_").concat(e),r=I(o),n="".concat(a);if(!r.includes(n)){let e=JSON.stringify([...r,n]);T.set(o,e,{path:"/",domain:t,expires:R})}},[e,t])},D=e=>{let{resource:t,file:a,action:h="download",modifier:x,location:b="resource_detail",option:v,size:y,showAttributionModal:j=!0,handleError:k,checkoutQueryParams:N,skipDownloadTracker:C=!1,searchExpression:R}=e,{id:T,name:I,author:D,premium:E,regularType:P,isAIGenerated:A,url:O,type:S}=t,[U,L]=(0,c.useState)(!1),{isUserWinback:G,showWinbackModal:H}=(0,i.l)(),{showAttribution:Z}=(0,p.tc)(),M=z(),W=(0,g.b)({resource:t,location:b}),$=(0,d.mS)(),{shouldTrackingLog:J}=f(),{showDeviceBlockedModal:K,isDeviceBlocked:q}=(0,r.qx)(),B=(0,o.Lh)(),F=(0,n.I)(),V=(0,l.ZK)(),Q=(0,u.TH)({file_extension:_(P,a),file_name:I,file_id:T,license:E?"premium":"free",resolution:y?m.w8[y]:"original",style:"na",author_name:D.name,category:A?"ai_image":P,action:"prompt"===h?"view_prompt":h,location:b,url_link:O}),Y=(0,c.useCallback)(e=>{if(k){k(e);return}"prompt"!==h&&W(e,N)},[k,h,W,N]);return{handleDownload:(0,c.useCallback)(async(e,t)=>{if(q){K();return}if(G){H();return}L(!0),B||s.uT("WARNING: User ".concat(F," has no wallet_id"),"warning"),J&&!C&&$({resourceId:T,isResourcePremium:E,resourceType:S,downloadType:h,fileType:S,variant:b});let o=await (0,w.H)({resource:T,size:y?2e3:void 0,action:h,modifier:x,file:a,option:v,walletId:B,locale:V,searchExpression:R});if(o.success)return j&&Z&&Z(),L(!1),M(T),Q({externalUrl:null!=e?e:O,setting:t}),o.data;Y(o),L(!1)},[q,G,B,J,C,T,y,h,x,a,v,V,R,Y,K,H,F,$,E,S,b,j,Z,M,Q,O]),isDownloading:U}}},32509:function(e,t,a){a.d(t,{b:function(){return l}});var o=a(19170),r=a(10893),n=a(52983),i=a(65724);let l=e=>{var t;let{location:a,resource:l}=null!=e?e:{},{t:s}=(0,r.$G)("error"),{openToast:c}=(0,o.x_)(),u=(0,i.W)(null!==(t=null==l?void 0:l.id)&&void 0!==t?t:0,"",a);return(0,n.useCallback)((e,t)=>{if("DOWNLOAD_LIMIT_REACHED"===e.data&&l){u({resourceData:{name:l.name,mediaUrl:l.preview.url,mediaWidth:l.preview.width,mediaHeight:l.preview.height,resourceType:"regular"},checkoutQueryParams:t,modalType:"downloadLimit",origin:"download_limit"});return}if("AUTHENTICATION_ERROR"===e.data){window.location.href="/oauth-logout";return}"NOT_FOUND"===e.data&&c({type:"danger",message:s("notFound")}),"UNKNOWN_ERROR"===e.data&&c({type:"danger",message:s("unknown")})},[u,c,l,s])}}}]);