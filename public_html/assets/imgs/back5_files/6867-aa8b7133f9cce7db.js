!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c5b73b47-d3f8-4c22-bb59-2817b99d30e6",e._sentryDebugIdIdentifier="sentry-dbid-c5b73b47-d3f8-4c22-bb59-2817b99d30e6")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6867],{53482:function(e,t,n){n.d(t,{D:function(){return I}});var r=n(97458),o=n(23113),a=n(2200),i=n(19974),l=n(48681),c=n(52983),s=n(86101),u=n(34854),d=n(770),f=n(9249),m=n(80712),v=n(63918),p=n(57291),g=n(7616),h=n(10893),_=n(9217),x=n(94498),w=n(11031),b=n(82060);let y=(0,c.forwardRef)((e,t)=>{let{onClick:n,mode:a,tooltipProps:i={side:"top"},buttonClassName:l,labelClassName:c,showLabel:y=!0,oldStyle:C=!1}=e,{t:j}=(0,h.$G)("detailCommon"),E=(0,o.a)("lg"),T=(0,u.nD)(),k=(0,g.Dv)(x.mX),P=j("saveToCollection"),R=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.T,{children:P}),(0,r.jsx)(d.J,{as:k?v.Z:m.Z,size:"base",className:(0,p.cx)(k&&"animate-spin")})]}),N=C?w.Mw:b.aD,I=(0,r.jsx)("button",{className:N,onClick:n,"data-cy":"add-to-collection-thumbnail",ref:t,children:R});return("large"===a&&(I=(0,r.jsxs)("button",{className:null!=l?l:_.LI(),onClick:n,ref:t,children:[R,y&&(0,r.jsx)("span",{className:null!=c?c:_.PS(),children:P})]})),E)?(0,r.jsx)(s.u,{...i,trigger:I,triggerAsChild:!0,hideOnLeaveHover:!0,container:T.current,children:P}):I}),C=e=>{let{containerRef:t,isOpen:n,onClose:r}=e;(0,c.useEffect)(()=>{let e=null==t?void 0:t.current;if(e&&n)return e.addEventListener("mouseleave",r),()=>{e.removeEventListener("mouseleave",r)}},[t,r,n])};var j=n(80389),E=n(79187),T=n(88659),k=n(24096);let P=(0,c.forwardRef)((e,t)=>{let{mode:n,tooltipProps:o,buttonClassName:a,showLabel:i,labelClassName:l,type:c,renderTrigger:s}=e,{onButtonOpenClick:u,isOpen:d}=(0,T.r)();return s?s({onClick:u,isOpen:d,ref:t}):(0,r.jsx)(y,{onClick:u,mode:null!=n?n:"normal",tooltipProps:o,buttonClassName:a,showLabel:i,labelClassName:l,oldStyle:"icon"===c,ref:t})}),R=e=>{let{trigger:t}=e,{isOpen:n,handleOpenChange:o,collectionIdsLoading:a,handleAddToCollection:i,handleRemoveFromCollection:c,responseCollections:s}=(0,T.r)(),{handleCreate:u}=(0,k.$)();return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(l.u,{open:n,onOpenChange:o,fullHeight:!0,size:"full",paddingY:"none",paddingX:"none",thumbnail:!0,children:(0,r.jsx)(j.L,{onAddToCollection:i,onRemoveFromCollection:c,onCreateCollection:u,collectionIdsLoading:a,responseCollections:s})})]})},N=e=>{var t;let{trigger:n,isMenuAction:o,containerRef:l}=e,s=(0,a.n)(),{isOpen:u,collectionIdsLoading:d,responseCollections:f,handleOpenChange:m,handleAddToCollection:v,handleRemoveFromCollection:p}=(0,T.r)(),{handleCreate:g}=(0,k.$)();return C({containerRef:l,isOpen:u,onClose:(0,c.useCallback)(()=>{m(!1)},[m])}),(0,r.jsxs)(i.fC,{open:u,onOpenChange:m,children:[(0,r.jsx)(i.xz,{asChild:!0,children:(0,r.jsx)("div",{children:n})}),(0,r.jsx)(i.h_,{container:null!==(t=null==l?void 0:l.current)&&void 0!==t?t:null==s?void 0:s.current,children:(0,r.jsx)(i.VY,{align:"start",side:"left",sideOffset:6,onInteractOutside:e=>o&&e.preventDefault(),className:"z-[1]",children:(0,r.jsx)(j.L,{onAddToCollection:v,onRemoveFromCollection:p,onCreateCollection:g,collectionIdsLoading:d,responseCollections:f})})})]})},I=e=>{let{type:t,id:n,location:a,mode:i,tooltipProps:l,buttonClassName:c,showLabel:s,labelClassName:u,renderTrigger:d,withProvider:f=!0,isMenuAction:m,containerRef:v}=e,p=(0,o.a)("smMax"),g=(0,r.jsx)(P,{mode:i,tooltipProps:l,buttonClassName:c,showLabel:s,labelClassName:u,type:t,renderTrigger:d}),h=p?R:N;return f?(0,r.jsx)(E.u,{id:n,type:t,location:a,children:(0,r.jsx)(h,{trigger:g,isMenuAction:m,containerRef:v})}):(0,r.jsx)(h,{trigger:g,isMenuAction:m,containerRef:v})}},1557:function(e,t,n){n.d(t,{U:function(){return r}});let r=(0,n(52983).createContext)({})},79187:function(e,t,n){n.d(t,{u:function(){return R}});var r=n(97458),o=n(52983),a=n(23113),i=n(90312),l=n(91394),c=n(25288),s=n(19170),u=n(7616),d=n(45451);let f=()=>(0,o.useCallback)(e=>{let{collectionId:t,collectionName:n,fileId:r,location:o}=e;(0,d.sendGTMEvent)({collection_id:t,collection_name:n,event_name:"add_to_collection",event:"ga4event",file_id:r,location:o})},[]),m=()=>(0,o.useCallback)(e=>{let{location:t,fileId:n}=e;(0,d.sendGTMEvent)({event:"ga4event",event_name:"collect",location:t,file_id:n})},[]);var v=n(49504),p=n(63202);let g=async e=>{let{id:t,collectionId:n,resourceType:r}=e,o=new URLSearchParams;return o.append("collectionId",n.toString()),o.set("resourceType",r),await (0,p.c)("/api/user/resources/".concat(t,"/collections?").concat(o.toString()),"DELETE")},h=async e=>{let{id:t,collectionId:n,resourceType:r}=e;return await (0,p.c)("/api/user/resources/".concat(t,"/collections"),"POST",{collectionId:n,resourceType:r})};var _=n(94498),x=n(2983),w=n(58058),b=n.n(w),y=n(10893);let C=()=>{let{t:e}=(0,y.$G)("detailCommon");return(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 py-2 text-sm text-surface-foreground-1",children:[(0,r.jsx)("span",{className:"whitespace-nowrap text-sm font-semibold text-surface-foreground-1",children:e("savedSuccessfully")}),(0,r.jsx)(b(),{href:"/user/collections",legacyBehavior:!0,children:(0,r.jsx)("span",{className:"cursor-pointer whitespace-nowrap text-xs font-normal !text-surface-foreground-accent-0",children:e("seeMyCollections")})})]})},j=e=>{let{type:t,id:n,location:d}=e,[p,w]=(0,o.useState)(null),b=(0,o.useRef)(!1),[y,j]=(0,o.useState)(!1),[E,T]=(0,o.useState)(null),k=(0,u.b9)(_.mX),P=f(),R=m(),N=(0,a.a)("smMax"),I=(0,l.d)(),S=(0,c.NL)(),D=(0,v.gx)(),{signUpUrl:L,setLoginCookies:O}=(0,i.e)(),{openToast:z}=(0,s.x_)(),A=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!b.current||e)try{e?D():k(!0);let t=await S.fetchQuery((0,v.us)({page:1,resourceId:n}));T(t),b.current=!0}catch(e){console.error("Error fetching collections when opening the popover:",e)}finally{e||k(!1)}},[S,n,k,D]),G=async()=>{if(!I){O(),window.location.href=L;return}(0,x.B)(t,"add_to_collection"),await A(),j(!0),R({location:d,fileId:n})},M=e=>w(t=>[...null!=t?t:[],e]),V=e=>w(t=>{var n;return null!==(n=null==t?void 0:t.filter(t=>t!==e))&&void 0!==n?n:[]}),B=(0,o.useCallback)(async(e,o)=>{try{M(e),await h({id:n,collectionId:e,resourceType:t}),P({fileId:n,collectionId:e,collectionName:o,location:d}),z({message:(0,r.jsx)(C,{}),showIcon:!1,showCloseButton:!1,position:N?"bottom-center":"top-right"}),await A(!0)}catch(e){console.error(e),z()}finally{V(e),N&&j(!1)}},[n,t,P,d,z,N,A]);return{responseCollections:E,collectionIdsLoading:p,isOpen:y,setIsOpen:j,onButtonOpenClick:G,handleAddToCollection:B,handleRemoveFromCollection:(0,o.useCallback)(async e=>{try{M(e),await g({id:n,collectionId:e,resourceType:t}),await A(!0)}catch(e){console.error(e),z()}finally{V(e)}},[n,z,t,A]),handleOpenChange:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j(e)}}};var E=n(99);let T=()=>{let{data:e,meta:{pagination:{nextPage:t}}}=(0,u.Dv)(_.HQ);return{collections:e,nextPage:t}},k=()=>{let{collections:e,nextPage:t}=T(),[n,r]=(0,o.useState)([]),a=(0,u.b9)(_.GD),i=(0,o.useRef)();(0,o.useEffect)(()=>{(null==e?void 0:e.length)>0&&r(e.map(E.V))},[e,t]);let l=null!==t,c=t=>{r((null==e?void 0:e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))).map(E.V))},s=async e=>{i.current&&clearTimeout(i.current),i.current=setTimeout(async()=>{a(e)},350)};return{isSearchByApi:l,searchCollections:n,handleSearch:e=>{l?s(e):c(e)}}};var P=n(1557);let R=e=>{let{children:t,id:n,type:a,location:i}=e,{responseCollections:l,collectionIdsLoading:c,isOpen:s,setIsOpen:u,onButtonOpenClick:d,handleOpenChange:f,handleAddToCollection:m,handleRemoveFromCollection:v}=j({type:a,id:n,location:i}),{searchCollections:p,isSearchByApi:g,handleSearch:h}=k(),_=(0,o.useMemo)(()=>({id:n,type:a,searchCollections:p,responseCollections:l,collectionIdsLoading:c,isSearchByApi:g,isOpen:s,setIsOpen:u,handleSearch:h,handleAddToCollection:m,handleRemoveFromCollection:v,onButtonOpenClick:d,handleOpenChange:f}),[n,a,p,l,c,g,s,d,u,m,v,h,f]);return(0,r.jsx)(P.U.Provider,{value:_,children:t})}},88659:function(e,t,n){n.d(t,{r:function(){return a}});var r=n(52983),o=n(1557);let a=()=>(0,r.useContext)(o.U)},99:function(e,t,n){n.d(t,{V:function(){return r}});let r=e=>{var t,n;return{id:e.id,name:e.name,author:(null===(t=e.author)||void 0===t?void 0:t.name)||void 0,hasResourceInCollection:e.hasResourceInCollection,preview:null===(n=e.previews[0])||void 0===n?void 0:n.url}}},38741:function(e,t,n){n.d(t,{D:function(){return r.D}});var r=n(53482)},39230:function(e,t,n){n.d(t,{$:function(){return s}});var r=n(97458),o=n(19974),a=n(10893),i=n(52983),l=n(43192),c=n(95733);let s=e=>{let{thumbnailRef:t,children:n,vertical:s}=e,{t:u}=(0,a.$G)("detailCommon"),[d,f]=(0,i.useState)(!1),m=(0,i.useRef)(!1),v=(0,c.E)(),p=(0,i.useCallback)(()=>{var e;m.current||(null===(e=t.current)||void 0===e?void 0:e.matches(":hover"))||f(!1)},[t,m]);return(0,i.useEffect)(()=>{if(!t)return;let e=t.current;if(e&&(e.toggleAttribute("data-popover-open",d),d))return e.addEventListener("mouseleave",p),()=>{e.removeEventListener("mouseleave",p)}},[d,t,p]),(0,r.jsxs)(o.fC,{modal:!1,open:d,onOpenChange:e=>f(e),children:[(0,r.jsx)(o.xz,{asChild:!0,children:(0,r.jsx)(l.T,{onClick:()=>f(!d),iconRightName:d?"unfold":"fold",iconLeftName:v&&"regular"===s?"ai-stars":void 0,label:v&&"video"!==s&&"icon"!==s?void 0:u("useImage"),dataCy:"thumbnail-menu-ai-tools-trigger"})}),(0,r.jsx)(o.h_,{children:(0,r.jsx)(o.VY,{className:"z-[1] flex flex-col rounded-xl border border-surface-border-alpha-0 bg-surface-modal p-2 shadow-lg",side:"top",align:"end",sideOffset:8,onPointerEnter:()=>{m.current=!0},onPointerLeave:()=>{m.current=!1,p()},children:n})})]})}},82060:function(e,t,n){n.d(t,{aD:function(){return r.aD},tw:function(){return o}});var r=n(11031);let o="bg-transparent hover:bg-ghost-1 px-2 py-1.5 cursor-pointer text-xs text-surface-foreground-2 flex gap-2.5 items-center outline-none rounded-lg group"},45299:function(e,t,n){n.d(t,{P:function(){return l}});var r=n(97458),o=n(22188),a=n(10893),i=n(30569);let l=e=>{let{onClick:t,ref:n}=e,{t:l}=(0,a.$G)("detailCommon"),c=l("addToCollection");return(0,r.jsx)(o.u,{content:c,disableHoverableContent:!0,showArrow:!1,contentProps:{side:"bottom",size:"sm"},children:(0,r.jsx)("div",{children:(0,r.jsx)(i.K,{iconName:"follow-folder",onClick:t,dataCy:"add-to-collection-thumbnail",ref:n})})})}},11031:function(e,t,n){n.d(t,{Mw:function(){return i},aD:function(){return a}});var r=n(57291);(0,r.j)("absolute right-4 top-4 flex flex-col gap-2 transition-all",{variants:{calculating:{true:"opacity-0",false:""}},defaultVariants:{calculating:!1}});let o="flex justify-center items-center rounded-full size-10 shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] bg-surface-0 hover:bg-surface-3 text-surface-foreground-0",a=(0,r.cx)(o,"size-10 rounded-full"),i=(0,r.cx)(o,"size-[35px] rounded-full")},43192:function(e,t,n){n.d(t,{T:function(){return i}});var r=n(97458),o=n(95467),a=n(25350);let i=(0,n(52983).forwardRef)((e,t)=>{let{iconLeftName:n,iconRightName:i,dataCy:l,disabled:c=!1,iconSize:s="sm",onClick:u,label:d}=e;return(0,r.jsxs)(a.z,{ref:t,onClick:u,size:"md",variant:"custom",shape:"rounded",disabled:c,className:"bg-white text-default-foreground-0 dark:text-surface-1","data-cy":l,children:[n&&(0,r.jsx)(o.Dw,{name:n,size:s}),d&&(0,r.jsx)("span",{children:d}),i&&(0,r.jsx)(o.Dw,{name:i,size:s})]})})},18666:function(e,t,n){n.d(t,{B:function(){return d}});var r=n(97458),o=n(23113),a=n(95467),i=n(22188),l=n(97374),c=n(9249),s=n(10893),u=n(1703);let d=e=>{let{id:t,name:n,type:d,buttonClassName:f,labelClassName:m,preview:v,inThumbnail:p=!1,showLabel:g=!1,tooltipProps:h,trigger:_,as:x}=e,{t:w}=(0,s.$G)("detailCommon"),b=(0,o.a)("smMax"),y=(0,u.E)({id:t,name:n,type:d,preview:v,inThumbnail:p}),C=w("viewSimilar");if(_)return(0,r.jsx)(l.fC,{onClick:y,children:_});let j=(0,r.jsxs)(null!=x?x:"button",{...x?{dataCy:"view-similar-button"}:{"data-cy":"view-similar-button"},className:f,onClick:y,children:[(0,r.jsx)(c.T,{children:C}),(0,r.jsx)(a.Dw,{name:"visual-search",size:"sm"}),g&&(0,r.jsx)("span",{className:m,children:C})]});return b||g?j:(0,r.jsx)(i.u,{content:C,disableHoverableContent:!0,showArrow:!1,...h?{contentProps:h}:{},children:(0,r.jsx)("div",{children:j})})}},1703:function(e,t,n){n.d(t,{E:function(){return l}});var r=n(9036),o=n(73701),a=n(12533),i=n(2983);let l=e=>{let{id:t,name:n,type:l,preview:{width:c,height:s,url:u},inThumbnail:d=!1}=e,f=(0,a.z)(u,c,s),m=(0,o.Z)(),v=(0,r.fD)({event_name:d?"similar_images_thumbnail":"similar_images",file_id:t.toString(),file_name:n,content_group2:l,search_logic_applied:"similar_images"});return async e=>{e.preventDefault(),e.stopPropagation(),(0,i.B)(l,"view_similar"),v(),m(),await f({type:l,discoverSimilarResourceId:t})}}},62138:function(e,t,n){n.d(t,{G:function(){return o}});var r=n(52983);let o=(e,t)=>{(0,r.useEffect)(()=>{t();let n=new ResizeObserver(()=>{t()});return e.current&&n.observe(e.current),window.addEventListener("resize",t),()=>{n.disconnect(),window.removeEventListener("resize",t)}},[e,t])}},68810:function(e,t,n){n.d(t,{I:function(){return r},S:function(){return o}});let r=e=>{e.currentTarget.style.zIndex="1"},o=e=>{e.currentTarget.style.removeProperty("z-index")}},55201:function(e,t,n){n.d(t,{h:function(){return r},l:function(){return o}});let r="sendToAISuiteEvent",o="/pikaso"},33961:function(e,t,n){n.d(t,{d:function(){return r}});let r=e=>{let{isResourcePremium:t,tool:n,location:r}=e,o=n.name,a=n.subOption?"_".concat(n.subOption):"";return"".concat("thumbnail"===r?"thumbnail":"resource_detail").concat(t?"":"_free","_").concat(o).concat(a)}},69762:function(e,t,n){n.d(t,{F:function(){return w}});var r=n(52983),o=n(55201),a=n(53466),i=n(33961);let l=e=>{let{tool:t,resourceId:n,isResourcePremium:o,resourceType:l,location:s}=e,u=(0,a.m)();return(0,r.useCallback)(()=>{let e=c[t.name],r=(0,i.d)({isResourcePremium:o,tool:t,location:s});e&&u({resourceId:n,isResourcePremium:o,resourceType:l,downloadType:e,fileType:l,variant:r})},[u,n,o,l,t,s])},c={removebg:"remove_background",replacebg:"ai_tool_replacebg",retouch:"ai_tool_retouch",expand:"ai_tool_expand",adjust:"ai_tool_adjust",styleReference:"ai_tool_generate_style_ref",generatePrompt:"ai_tool_generate_prompt",video:"ai_tool_video",reimagine:"ai_tool_reimagine",assistant:"ai_tool_assistant",workflow:"ai_tool_assistant",regenerateVideo:"ai_tool_video_regenerate",videoEditor:"ai_tool_video_editor",videoProjectEditor:"ai_tool_video_project_editor",upscale:"ai_tool_upscaler",imageEditor:"ai_tool_all",applyTuneToVideo:"ai_tool_video_edit_audio",useAsReference:"ai_tool_generate_image_ref",changeCamera:"ai_tool_change_camera",videoColorGrading:"ai_tool_video_color_grading_after_download",videoExtender:"ai_tool_video_extender_after_download",variations:"ai_tool_variations",cinematicShot:"ai_tool_cinematic_shot"};var s=n(45451);let u=e=>{let{tool:t,isResourcePremium:n,location:o}=e;return(0,r.useCallback)(()=>{(0,s.sendGTMEvent)({event:"ga4event",event_name:"ai_tool",action:t.name,location:(0,i.d)({isResourcePremium:n,tool:t,location:o})})},[n,t,o])};var d=n(11924);let f=e=>{let{tool:{name:t,subOption:n},resourceType:o}=e,{handleLog:a}=(0,d.N)();return(0,r.useCallback)(()=>{a({target:o,action:m[t],actionParam:n,timestamp:new Date})},[a,o,t,n])},m={removebg:"removebg",replacebg:"replacebg",retouch:"retouch",expand:"expand",adjust:"adjust",styleReference:"styleReference",generatePrompt:"generatePrompt",video:"generateVideo",reimagine:"reimagine",assistant:"assistant",workflow:"workflow",regenerateVideo:"regenerateVideo",videoEditor:"videoEditor",videoProjectEditor:"videoProjectEditor",upscale:"upscale",imageEditor:"imageEditor",applyTuneToVideo:"videoEditor",useAsReference:"useAsReference",changeCamera:"changeCamera",videoColorGrading:"videoColorGrading",videoExtender:"videoExtender",variations:"variations",cinematicShot:"cinematicShot"};var v=n(64458),p=n(8933),g=n(40853);let h=e=>{let t=window.open("about:blank");t?t.location.href=e:document.location.href=e},_={detail:"resource_detail",postDownload:"resource_detail_post_download",thumbnail:"thumbnail_ai_tools"},x=e=>{let{tool:t,getSignedResource:n,imageSrc:a,location:i,extraParams:l,resource:c}=e;return(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,g.x)(t),s=await n(),u="".concat(o.l).concat(r.url),d=a instanceof Function?await a():a,f=e instanceof Function?await e():e,m=new URLSearchParams;m.set(r.imageParamName,null!=d?d:s),m.set("title",c.name),m.set("from_element",_[i]),m.set("item_id",c.id.toString()),m.set("item_type",c.type),m.set("item_author",c.authorName),m.set("is_premium_item","".concat(c.isPremium)),m.set("is_ai_generated","".concat(c.isAIGenerated)),r.tool&&m.set("tool",r.tool),Object.entries({...r.extraParams,...l,...f}).forEach(e=>{let[t,n]=e;n&&m.set(t,n)}),h("".concat(u,"?").concat(m))},[t,n,a,c.name,c.id,c.type,c.authorName,c.isPremium,c.isAIGenerated,i,l])},w=e=>{let{tool:t,resource:n,canDownloadResource:a,imageSrc:i,location:c,getSignedResource:s,extraParams:d}=e,m=u({tool:t,isResourcePremium:n.isPremium,location:c}),g=f({tool:t,resourceType:n.type}),h=l({tool:t,resourceId:n.id,isResourcePremium:n.isPremium,resourceType:n.type,location:c}),_=(0,v.M)({tool:t,resource:n}),w=(0,p.P)({tool:t,canDownloadResource:a,resource:{id:n.id,name:n.name,groupedType:n.groupedType,media:n.media},checkoutQueryParams:_}),b=x({tool:t,getSignedResource:s,imageSrc:i,location:c,resource:n,extraParams:d});return(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(o.h)),m(),g(),h(),w()||b(e)},[m,g,h,w,b])}},93898:function(e,t,n){n.d(t,{B:function(){return r}});let r=(0,n(52983).createContext)({})},80847:function(e,t,n){n.d(t,{o:function(){return m}});let r={anonymous:"anonymous",premium:"payment"};var o=n(2606),a=n(68147),i=n(91394),l=n(56106),c=n(96986),s=n(52983),u=n(70730),d=n(80144);let f={premium:"P",nonPremium:"R"},m=(e,t)=>{let n=(0,c.P)(),m=(0,i.d)(),v=(0,a.I)(),p=(0,l.H)(),g=(0,o.A)(),h=(0,u.I)(),{searchTrackingCode:_}=(0,d.i)(),x=(0,s.useMemo)(()=>{let e=new URLSearchParams;if(n&&n.userType!==r.anonymous&&n.userId){let t=f[n.userType===r.premium?"premium":"nonPremium"];e.append("uid","".concat(t).concat(n.userId))}else if(g&&m){let t=f[p?"premium":"nonPremium"];e.append("uid","".concat(t).concat(v))}return h&&e.append("ga",h),_&&e.append("semt",_),t&&Object.keys(t).forEach(n=>e.append(n,t[n])),e.toString()},[t,h,g,m,p,_,v,n]);return"".concat(e).concat(x?"?".concat(x):"")}},80144:function(e,t,n){n.d(t,{i:function(){return a}});var r=n(52983),o=n(93898);let a=()=>(0,r.useContext)(o.B)},80719:function(e,t,n){n.d(t,{X:function(){return o}});var r=n(63202);let o=e=>{let{page:t,resourceId:n,searchTerm:o,collectionIds:a,ownership:i}=e,l=a?a.join(","):void 0,c={page:"".concat(t),...n&&{resourceId:"".concat(n)},...o&&{"filter[term]":o},...l&&{"filter[ids]":l},...i&&{"filter[ownership]":i}},s="/api/user/collections?".concat(new URLSearchParams(c));return(0,r.c)(s,"GET")}},49504:function(e,t,n){n.d(t,{gx:function(){return m},lL:function(){return f},us:function(){return d}});var r=n(59077),o=n(78511),a=n(25288),i=n(7616),l=n(52983),c=n(80719),s=n(94498);let u=["collections","all"],d=e=>{let{page:t,searchTerm:n,resourceId:o}=e;return(0,r.C)({queryKey:[...u,{page:t,resourceId:o,searchTerm:n}],queryFn:async()=>{let{data:e,success:r}=await (0,c.X)({page:t,resourceId:o,searchTerm:n});if(!r)throw Error(e);return e}})},f=e=>{let{page:t=1,resourceId:n}=e,r=(0,i.Dv)(s.GD);return(0,o.a)(d({page:t,searchTerm:r,resourceId:null!=n?n:null}))},m=()=>{let e=(0,a.NL)();return(0,l.useCallback)(()=>{e.invalidateQueries({queryKey:u})},[e])}},94498:function(e,t,n){n.d(t,{GD:function(){return o},HQ:function(){return a},mX:function(){return l},w0:function(){return i}});var r=n(24399);let o=(0,n(73139).rw)(null),a=(0,r.cn)({data:[],meta:{pagination:{nextPage:null,perPage:0,prevPage:null,currentPage:0}}}),i=(0,r.cn)([]),l=(0,r.cn)(!1)},97129:function(e,t,n){n.d(t,{B:function(){return a}});var r=n(51780),o=n(52983);let a=()=>{let{query:e}=(0,r.useRouter)();return(0,o.useCallback)((t,n)=>{let{item_id:r}=e;if(!r)return t;let o=t.findIndex(e=>e.id===Number(r));return -1===o||n&&o>=n?t:[t[o],...t.filter(e=>e.id!==Number(r))]},[e])}},61462:function(e,t,n){n.d(t,{b:function(){return a}});var r=n(97458),o=n(40409);let a=e=>{let{children:t,...n}=e;return(0,r.jsx)(o.t.Provider,{value:n,children:t})}},3223:function(e,t,n){n.d(t,{z:function(){return i}});var r=n(52983),o=n(80144);let a={ai:"regular",photo:"regular",vector:"regular",psd:"regular",icon:"icon",template:"template",mockup:"mockup",video:"video","3d":"3d"},i=e=>{let{id:t,type:n,premium:i,position:l}=e,{vertical:c,addEventTrackerToQueue:s}=(0,o.i)();return(0,r.useCallback)(()=>{var e;let r={item_id:t.toString(),is_premium_item:i?"1":"0",position:l.toString(),item_supertype:null!==(e=a[n])&&void 0!==e?e:n,vertical:null!=c?c:n};null==s||s(r)},[s,t,l,i,n,c])}},2983:function(e,t,n){n.d(t,{B:function(){return o}});var r=n(26219);let o=(e,t)=>{if("3d"===e||"font"===e)return;"icon"!==e&&"video"!==e&&(e="regular");let n="send&event&detail&type=".concat(e,"&button_click=").concat(t,"&event_at=").concat(new Date().getTime());(0,r.O)(n)}},63202:function(e,t,n){n.d(t,{c:function(){return r}});let r=async(e,t,n,r)=>{let o=r?new Headers:void 0;return(null==r?void 0:r.locale)&&o&&o.set("accept-language",r.locale),(null==r?void 0:r.cache)&&o&&o.set("cache",r.cache),fetch(e,{method:t,...n&&{body:JSON.stringify(n)},...r&&{...r,headers:o}}).then(async e=>e.ok?{success:!0,data:204===e.status?null:await e.json()}:400===e.status?{success:!1,data:e.statusText}:401===e.status||405===e.status?{success:!1,data:"AUTHENTICATION_ERROR"}:403===e.status?{success:!1,data:"FORBIDDEN"}:500===e.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:404===e.status?{success:!1,data:"NOT_FOUND"}:429===e.status?{success:!1,data:"TOO_MANY_REQUESTS"}:{success:!1,data:await e.json()})}},14417:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M413 372H232V191c0-13.807-11.193-25-25-25s-25 11.193-25 25v181H1c-13.807 0-25 11.193-25 25s11.193 25 25 25h181v181c0 13.807 11.193 25 25 25s25-11.193 25-25V422h181c13.807 0 25-11.193 25-25s-11.193-25-25-25"})})},63918:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M269.2 438.4c-100.6 0-182.4-81.8-182.4-182.4S168.6 73.6 269.2 73.6c61.1 0 117.9 30.4 151.8 81.3 7.7 11.5 4.6 27-6.9 34.7s-27 4.6-34.7-6.9c-24.6-37-65.9-59.1-110.2-59.1-73 0-132.4 59.4-132.4 132.4s59.4 132.4 132.4 132.4c44.4 0 85.6-22.1 110.2-59.1 7.7-11.5 23.2-14.6 34.7-6.9s14.6 23.2 6.9 34.7c-33.9 50.9-90.7 81.3-151.8 81.3"})})},11645:function(e,t,n){n.d(t,{u:function(){return a}});var r=n(52983),o=n(8147);let a=()=>{let e=(0,o.H)();return(0,r.useCallback)(t=>{if(!e)return!0;try{let n=e.disabledPermissionsTools;if(!n)return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:"Disabled permissions tools not found"})),!0;return!(t in n)}catch(n){return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:n})),!0}},[e])}},2209:function(e,t,n){n.d(t,{y:function(){return o}});var r=n(52983);let o=(e,t)=>{let n=(0,r.useRef)();return(0,r.useCallback)(function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(n.current),n.current=setTimeout(()=>{clearTimeout(n.current),e(...o)},t)},[e,t])}},59077:function(e,t,n){n.d(t,{C:function(){return r}});function r(e){return e}}}]);