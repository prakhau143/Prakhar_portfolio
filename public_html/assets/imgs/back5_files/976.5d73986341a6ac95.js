!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e42089b5-2686-4eeb-8081-781d2f3156c7",e._sentryDebugIdIdentifier="sentry-dbid-e42089b5-2686-4eeb-8081-781d2f3156c7")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{3506:function(e,t,r){"use strict";var s=r(97458);t.Z=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,s.jsx)("path",{d:"M428 231.5H317v-65c0-13.807-11.193-25-25-25H122c-13.807 0-25 11.193-25 25v65H-14c-13.807 0-25 11.193-25 25s11.193 25 25 25h25v306c0 35.841 29.159 65 65 65h262c35.841 0 65-29.159 65-65v-306h25c13.807 0 25-11.193 25-25s-11.193-25-25-25m-281-40h120v40H147zm206 396c0 8.271-6.729 15-15 15H76c-8.271 0-15-6.729-15-15v-306h292z"}),(0,s.jsx)("path",{d:"M150 341.5c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25m114 0c-13.807 0-25 11.193-25 25v151c0 13.807 11.193 25 25 25s25-11.193 25-25v-151c0-13.807-11.193-25-25-25"})]})},10976:function(e,t,r){"use strict";r.r(t),r.d(t,{NotificationCenter:function(){return Z}});var s=r(97458),n=r(52983),i=r(94493);let l=()=>void 0!==(0,n.useContext)(i.U),a=e=>e.filter(e=>{var t,r;return(null===(t=e.extras)||void 0===t?void 0:t.showOnlyIn)==="front"||!(null===(r=e.extras)||void 0===r?void 0:r.showOnlyIn)});var o=r(53733);let c=(0,n.createContext)({}),d=e=>{let{children:t,setCards:s,translations:i,ready:l}=e,[o,c]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{let{ClassicCard:e,CaptionedImage:t,subscribeToContentCardsUpdates:s}=await Promise.all([r.e(7471),r.e(8109),r.e(9392)]).then(r.bind(r,60964)),n=r=>r instanceof e||r instanceof t;return s(e=>{let{cards:t}=e;c(t.filter(n))})})()},[]),(0,n.useEffect)(()=>{l&&s(a(o.map(e=>{var t;let r=null!==(t=e.extras)&&void 0!==t?t:{},s=r["extras.translation_key_title"],n=r["extras.translation_key_body"],l=r["extras.translation_key_cta"];if(!s&&!n&&!l)return e;let a=Object.create(Object.getPrototypeOf(e));return Object.assign(a,e),s&&i[s]&&(a.title=i[s]),n&&i[n]&&(a.description=i[n]),l&&i[l]&&(a.linkText=i[l]),a})))},[o,i,l,s]),t},x=e=>{let{children:t,translations:r,ready:i}=e,{isInitialized:l}=(0,o._)(),[a,x]=(0,n.useState)([]),u=(0,n.useMemo)(()=>({cards:a,setCards:x}),[a,x]),h=(0,s.jsx)(c.Provider,{value:u,children:t});return l?(0,s.jsx)(d,{translations:r,ready:i,setCards:x,children:h}):h},u=()=>(0,n.useContext)(c);r(25983);var h=r(1850);let f=h.z.object({total:h.z.number(),unread:h.z.number()}),m=h.z.object({id:h.z.number(),sline:h.z.string(),phash:h.z.string(),created:h.z.number(),read:h.z.number(),content:h.z.string(),delivered_at:h.z.number(),blbl:h.z.string(),burl:h.z.string(),end:h.z.number(),card_url:h.z.string(),bg_color:h.z.string(),fg_color:h.z.string(),meta_data:h.z.object({appkey:h.z.string(),expiration:h.z.number()})}),p=h.z.object({meta:f,items:h.z.array(m)});h.z.object({data:p}).transform(e=>{let{data:t}=e;return t});var b=r(66827),g=r(19974),v=r(770),j=r(9249),$=r(96065),w=r(57291),y=r(7616),k=r(10893),z=r(23113),N=r(72538);let _=(0,w.cx)("overflow-y-auto scroll-smooth transition-all duration-150 ease-in-out scrollbar-thin scrollbar-track-transparent scrollbar-thumb-transparent [scrollbar-gutter:stable] hover:scrollbar-track-[#F3F4F6] hover:scrollbar-thumb-[#9CA3AF] dark:scrollbar-track-transparent dark:scrollbar-thumb-transparent dark:hover:scrollbar-track-[#1e1e1e] dark:hover:scrollbar-thumb-[#666]");var C=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 14 14","aria-hidden":!0,...e,children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M14 10.856c0-1.53-.623-2.316-1.174-3.01-.49-.617-.877-1.105-.877-2.158v-.041a4.94 4.94 0 0 0-1.45-3.51A4.9 4.9 0 0 0 7.685.731V.684a.684.684 0 1 0-1.368 0v.048c-2.406.337-4.265 2.431-4.265 4.956 0 1.053-.387 1.541-.877 2.159C.624 8.54 0 9.325 0 10.855v.036a1.78 1.78 0 0 0 1.777 1.742h3.856C5.633 13.387 6.246 14 7 14s1.367-.613 1.367-1.367h3.856A1.78 1.78 0 0 0 14 10.856m-1.777.41H1.777a.41.41 0 0 1-.41-.41c0-1.054.387-1.542.877-2.16.55-.693 1.174-1.478 1.174-3.008 0-2.005 1.606-3.636 3.58-3.637H7c.956 0 1.855.373 2.532 1.052a3.58 3.58 0 0 1 1.05 2.585c0 1.53.624 2.315 1.174 3.008.49.618.877 1.106.877 2.16a.41.41 0 0 1-.41.41",clipRule:"evenodd"})});let O=()=>{let{t:e}=(0,k.$G)("common");return(0,s.jsxs)("div",{className:"m-4 flex h-[176px] flex-col items-center gap-5 text-center",children:[(0,s.jsx)("div",{className:"mt-12 grid size-[56px] min-h-[56px] min-w-[56px] items-center justify-center rounded-[6px] bg-[#E5F0FD] text-[#006EF0] dark:bg-[#1F408C] dark:text-[#E5F0FD]",children:(0,s.jsx)(v.J,{size:"2xl",as:C})}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"$sprinkles-text-base font-semibold leading-[22px] text-surface-foreground-1",children:e("notifications.emptyTitle")}),(0,s.jsx)("p",{className:"text-sm leading-[22px] text-surface-foreground-2",children:e("notifications.emptyText")})]})]})};var F=r(96721);let I=[[86400,"timeAgo.day","timeAgo.days"],[3600,"timeAgo.hour","timeAgo.hours"],[60,"timeAgo.minute","timeAgo.minutes"]],A=e=>{let t=new Date;if(e>t)throw Error("Date is in the future");let r=e.getTime(),s=Math.floor((t.getTime()-r)/1e3),n=I.find(e=>s/e[0]>=1)||[1,"timeAgo.second","timeAgo.seconds"],i=Math.floor(s/n[0]);return{time:i,ago:i>1?n[2]:n[1]}};var E=r(3506),M=r(98821),T=r.n(M),D=r(5239);let P=e=>{let t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let s=t.current,n=new IntersectionObserver(async s=>{let[i]=s;i.isIntersecting&&1===i.intersectionRatio&&!e.viewed&&((await Promise.all([r.e(7471),r.e(8109),r.e(9392)]).then(r.bind(r,60964)).then(e=>e.logContentCardImpressions))([e]),t.current&&n.unobserve(t.current))},{threshold:1});return t.current&&!e.viewed&&n.observe(t.current),()=>{s&&n.unobserve(s)}},[t,e]),{ref:t}},S=e=>{let{item:t}=e,{t:r}=(0,k.$G)("common");if(!t.created)return null;let{time:n,ago:i}=A(t.created);return(0,s.jsx)("span",{children:r(i,{time:n})})},H=e=>{var t;let{item:i}=e,[l,a]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),{t:d}=(0,k.$G)("common"),{setCards:x}=u(),{ref:h}=P(i),f=()=>x(e=>e.filter(e=>e.id!==i.id)),m=(null===(t=i.extras)||void 0===t?void 0:t.video)&&!l,p="string"==typeof i.imageUrl&&!m&&!o;return(0,s.jsxs)("div",{className:"$p-[15px] $bg-surface-1 $rounded-[8px] $sprinkles-text-sm $text-surface-foreground-2",ref:h,children:[(0,s.jsxs)("p",{className:"$flex $items-center $justify-between text-surface-foreground-2 text-xs $mb-[5px]",children:[(0,s.jsx)(D.SV,{fallback:(0,s.jsx)("span",{}),children:(0,s.jsx)(S,{item:i})}),!i.viewed&&(0,s.jsx)("span",{className:"$inline-block $w-[10px] $h-[10px] $rounded-[9999px] $bg-blueFreepik"})]}),m&&(0,s.jsx)("video",{className:"$block $max-w-full $h-auto",controls:!1,controlsList:"nodownload",playsInline:!0,autoPlay:!1,loop:!1,onError:()=>a(!0),children:(0,s.jsx)("source",{src:i.extras.video,type:"video/mp4"})}),p&&(0,s.jsx)(T(),{src:i.imageUrl,alt:"",className:"$w-full $h-auto $rounded-[8px] $pb-[5px]",width:360,height:96,onError:()=>c(!0)}),(0,s.jsx)("p",{className:"$sprinkles-text-base $font-semibold",children:i.title}),(0,s.jsx)("p",{className:"$sprinkles-text-sm $mt-[5px] $mb-[5px]",children:(0,F.S)(i.description)}),(0,s.jsxs)("div",{className:"$flex $items-center $justify-between $font-semibold $pt-[5px]",children:[(0,s.jsx)("a",{href:i.url,className:"text-surface-foreground-accent-0 $font-semibold",children:i.linkText}),i.dismissible&&(0,s.jsxs)("button",{className:"$flex $items-center $gap-[5px] $sprinkles-text-sm $text-surface-foreground-2 hover:$text-black",onClick:()=>Promise.all([r.e(7471),r.e(8109),r.e(9392)]).then(r.bind(r,60964)).then(e=>{let{logCardDismissal:t}=e;t(i)&&f()}),children:[(0,s.jsx)(v.J,{as:E.Z,size:"sm"}),d("remove")]})]})]})},V=e=>e.filter(e=>!e.dismissed),G=e=>e.sort((e,t)=>e.created&&t.created?t.created.getTime()-e.created.getTime():0),J=()=>{let{cards:e}=u(),t=(0,n.useMemo)(()=>e?G(V(e)):null,[e]);return t&&0!==t.length?(0,s.jsx)("div",{className:(0,w.cx)("flex flex-1 flex-col gap-5 pb-4 pl-4 pr-2",_),children:t.map(e=>(0,s.jsx)("div",{onClick:()=>!e.clicked&&Promise.all([r.e(7471),r.e(8109),r.e(9392)]).then(r.bind(r,60964)).then(t=>{let{logContentCardClick:r}=t;r(e)}),children:(0,s.jsx)(H,{item:e},e.id)},e.id))}):(0,s.jsx)(O,{})};var R=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,s.jsx)("path",{d:"M469.1 287c-17.9-22.6-32.1-40.4-32.1-79v-1.4c0-48.5-18.8-94.1-53-128.3-28.2-28.3-64.1-46.1-103-51.4V25c0-13.8-11.2-25-25-25s-25 11.2-25 25v1.8C143 39.1 75 115.7 75 208c0 38.5-14.2 56.4-32.1 79C22.8 312.3 0 341 0 397v1.3C.7 433.5 29.6 462 65 462h141c0 27.6 22.4 50 50 50s50-22.4 50-50h141c35.4 0 64.3-28.5 65-63.7V397c0-56-22.8-84.7-42.9-110"})});let W=(0,n.forwardRef)((e,t)=>{let{isOpen:r}=e,{t:n}=(0,k.$G)("common"),{cards:i}=u(),l=i?i.filter(e=>!e.viewed&&!e.dismissed).length:0;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.T,{children:n("notifications.title")}),(0,s.jsxs)("span",{ref:t,className:"relative $transition-all font-semibold sprinkles-text-base transition-all duration-150 ease-out hover:bg-surface-2 p-[9px] rounded-lg flex items-center cursor-pointer no-underline visited:text-inherit text-surface-foreground-0",children:[(0,s.jsx)(v.J,{as:r?R:C,className:"size-[14px]"}),l>0&&(0,s.jsx)("span",{className:"$absolute $top-0 $right-0 $bg-blueFreepik $rounded-full $text-center $w-[15px] $h-[15px] $text-white $text-[10px] $leading-[18px] $font-bold $flex $items-center $justify-center",children:l})]})]})});W.displayName="NotificationTrigger";var B=r(60473),U=r.n(B);let Z=e=>{let{translations:t,ready:r}=e,i=l(),{t:a}=(0,k.$G)("common"),[o,c]=(0,n.useState)(!1),d=(0,z.a)("lgMax"),u=(0,z.a)("xlMax"),h="anchored"===(0,y.Dv)(N.tL),f=(0,n.useMemo)(()=>h?u?20:75:20,[h,u]);if(!i)return null;let m=(0,s.jsx)("button",{onClick:()=>c(!o),children:(0,s.jsx)(W,{isOpen:o})}),p=(0,w.cx)("flex items-center rounded-lg p-[9px] text-ghost-foreground-0 transition-all duration-150 ease-out hover:bg-surface-2"),_=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,s.jsx)("p",{className:"font-semibold text-surface-foreground-1",children:a("notifications.title")}),(()=>{let e=d?b.x8:g.x8;return(0,s.jsx)(e,{asChild:!0,children:(0,s.jsxs)("button",{className:p,children:[(0,s.jsx)(v.J,{className:"size-[14px]",as:$.Z}),(0,s.jsx)(j.T,{children:a("close")})]})})})()]}),(0,s.jsx)(J,{})]}),C=(0,w.cx)("flex flex-1 flex-col gap-0 overflow-y-auto overflow-x-hidden border-surface-border-alpha-0 bg-surface-1 text-surface-foreground-0");return d?(0,s.jsx)(x,{translations:t,ready:r,children:(0,s.jsxs)(b.fC,{open:o,onOpenChange:()=>c(!o),children:[(0,s.jsx)(b.xz,{asChild:!0,children:m}),(0,s.jsxs)(b.h_,{children:[(0,s.jsx)(b.aV,{className:"fixed inset-0 z-50 bg-black/50"}),(0,s.jsx)(b.VY,{className:(0,w.cx)("fixed inset-0 z-50",C),children:_})]})]})}):(0,s.jsx)(x,{translations:t,ready:r,children:(0,s.jsxs)(g.fC,{open:o,onOpenChange:()=>c(!o),children:[(0,s.jsx)(g.xz,{asChild:!0,"aria-label":a("notifications.title"),children:m}),(0,s.jsx)(g.h_,{children:(0,s.jsx)(g.VY,{"data-sidebar-safezone":!0,side:"right",align:"end",sideOffset:f,alignOffset:-16,className:(0,w.cx)(C,"z-10 h-screen max-h-screen w-[384px] lg:origin-top-left",o?U().fadeIn:U().fadeOut),children:_})})]})})}},96721:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});var s=r(97458);let n=e=>e.split(/(<br>|<b>.*?<\/b>|<i>.*?<\/i>)/g).map((e,t)=>{if("<br>"===e)return(0,s.jsx)("br",{},t);if(e.startsWith("<b>")&&e.endsWith("</b>")){let r=e.slice(3,-4);return(0,s.jsx)("strong",{children:r},t)}if(!(e.startsWith("<i>")&&e.endsWith("</i>")))return e;{let r=e.slice(3,-4);return(0,s.jsx)("em",{children:r},t)}})},60473:function(e){e.exports={fadeIn:"styles_fadeIn__vJ20A",fadeOut:"styles_fadeOut__P1mfk"}}}]);